<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Yifan He | Robotics & Control</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* 隐藏滚动条但保留功能 */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- 1. 核心数据 (Resume Data) ---
        const RESUME_DATA = {
            contact: {
                name: "Yifan He",
                email: "yh3921@columbia.edu",
                phone: "+1-347-556-1694",
                title: "M.S. in Robotics and Control",
                location: "New York, NY",
                github: "https://github.com/heyifan740-code"
            },
            summary: "Master's student at Columbia University specializing in Robotics and Control. Strong foundation in Mechatronics, Embedded Systems, and Control Engineering. Proven track record in Formula Student competitions leading electrical teams. Proficient in Python, C, PLC programming, and mechanical design simulations.",
            education: [
                {
                    institution: "Columbia University",
                    location: "New York, USA",
                    degree: "Master of Science",
                    major: "Mechanical Engineering",
                    concentration: "Robotics and Control",
                    period: "Current"
                },
                {
                    institution: "Ningbo University",
                    location: "China",
                    degree: "Bachelor of Engineering",
                    major: "Mechanical Engineering",
                    concentration: "Mechatronics",
                    period: "09/2020 - 07/2024"
                }
            ],
            publications: [
                {
                    title: "Research on DC Motor Driven by Microcontroller Based on PID Control",
                    conference: "2023 3rd International Conference on Mechanical Engineering (MEIMIE 2023)",
                    date: "10/2023"
                }
            ],
            research: [
                {
                    title: "Tactile Encoder Comparison for Imitation Learning",
                    period: "Fall 2024",
                    role: "Lead Researcher",
                    video: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WeAreGoingOnBullrun.mp4",
                    details: [
                        "Co-led research with Naian Tao; leveraged 3D-ViTac hardware.",
                        "Built a low-cost teleoperation setup (~$250) using SO100-ARM.",
                        "Benchmarked ResNet vs MLP encoders; ResNet achieved 98.9% accuracy.",
                        "Achieved 90% success in pick-and-place tasks with just 50 training epochs."
                    ]
                },
                {
                    title: "Microelectromechanical Systems & DC Motor PID Control",
                    period: "04/2023 - 08/2023",
                    role: "Independent Researcher",
                    details: [
                        "Modeled PID controllers using Matlab Simulink.",
                        "Designed and simulated circuit models with Falstad.",
                        "Built actual physical circuits on Tinkercad for experimentation."
                    ]
                }
            ],
            experience: [
                {
                    role: "PLC Software Engineer Intern",
                    company: "Ningbo Junpu Intelligent Manufacturing Co., Ltd.",
                    period: "07/2023 - 08/2023",
                    details: [
                        "Performed structured language programming on Siemens PLC controllers using TIA Portal.",
                        "Utilized FACTORY IO simulation program to create 3D industrial site structure.",
                        "Used Beckhoff PLC software TWINCAT3 to port existing code."
                    ]
                }
            ],
            competitions: [
                {
                    title: "Electrical Team Leader & Safety Officer",
                    company: "Formula Student Electric China (NIO Cup 2022)",
                    period: "09/2021 - 10/2022",
                    details: [
                        "Team won the National Third Prize.",
                        "Designed battery box to meet vehicle performance criteria.",
                        "Calculated race power and chose motors based on maximum speed."
                    ]
                }
            ],
            skills: [
                { category: "Programming", items: ["Python", "C/C++", "Matlab"] },
                { category: "Embedded & Control", items: ["ROS2", "Microcontrollers", "PLC", "PID Control"] },
                { category: "Simulation & CAD", items: ["MuJoCo", "Gazebo", "SolidWorks", "Simulink"] }
            ]
        };

        // --- 2. 基础组件 (Icons & UI) ---
        
        // 通用图标组件
        const Icon = ({ name, size = 20, className = "" }) => {
            useEffect(() => { lucide.createIcons(); }, [name]);
            return <i data-lucide={name} style={{ width: size, height: size }} className={`inline-block ${className}`}></i>;
        };

        // 模拟 App.tsx 里的图标 import
        const ScrollText = (props) => <Icon name="scroll-text" {...props} />;
        const FlaskConical = (props) => <Icon name="flask-conical" {...props} />;
        const Briefcase = (props) => <Icon name="briefcase" {...props} />;
        const Trophy = (props) => <Icon name="trophy" {...props} />;
        const Mail = (props) => <Icon name="mail" {...props} />;
        const Github = (props) => <Icon name="github" {...props} />;
        const MapPin = (props) => <Icon name="map-pin" {...props} />;
        const Phone = (props) => <Icon name="phone" {...props} />;
        const MessageSquare = (props) => <Icon name="message-square" {...props} />;

        // --- 3. 重建缺失的组件 (Sidebar, Section, ExperienceItem) ---

        const Sidebar = () => (
            <aside className="lg:w-72 lg:fixed lg:h-screen bg-slate-900 text-white p-8 flex flex-col overflow-y-auto no-scrollbar z-50">
                <div className="mb-8">
                    <h1 className="text-2xl font-bold mb-2">{RESUME_DATA.contact.name}</h1>
                    <p className="text-blue-400 font-medium">{RESUME_DATA.contact.title}</p>
                </div>

                <div className="space-y-4 mb-8 text-slate-300 text-sm">
                    <div className="flex items-center gap-3">
                        <Mail size={16} /> <a href={`mailto:${RESUME_DATA.contact.email}`} className="hover:text-white transition">{RESUME_DATA.contact.email}</a>
                    </div>
                    <div className="flex items-center gap-3">
                        <Github size={16} /> <a href={RESUME_DATA.contact.github} target="_blank" className="hover:text-white transition">Github Profile</a>
                    </div>
                    <div className="flex items-center gap-3">
                        <MapPin size={16} /> <span>{RESUME_DATA.contact.location}</span>
                    </div>
                </div>

                {/* 既然 App.tsx 主区域没有 Education, 我们必须把它放侧边栏 */}
                <div className="mb-8">
                    <h3 className="text-slate-400 text-xs font-bold uppercase tracking-widest mb-4">Education</h3>
                    <div className="space-y-6">
                        {RESUME_DATA.education.map((edu, idx) => (
                            <div key={idx}>
                                <div className="font-bold text-white">{edu.institution}</div>
                                <div className="text-xs text-blue-400 mt-1">{edu.degree}</div>
                                <div className="text-xs text-slate-500 mt-1">{edu.period}</div>
                            </div>
                        ))}
                    </div>
                </div>

                <div>
                    <h3 className="text-slate-400 text-xs font-bold uppercase tracking-widest mb-4">Skills</h3>
                    <div className="flex flex-wrap gap-2">
                        {RESUME_DATA.skills.flatMap(s => s.items).map((skill, i) => (
                            <span key={i} className="text-xs bg-slate-800 border border-slate-700 text-slate-300 px-2 py-1 rounded">
                                {skill}
                            </span>
                        ))}
                    </div>
                </div>
            </aside>
        );

        const Section = ({ title, children, id }) => (
            <section id={id} className="mb-16 scroll-mt-20">
                <h3 className="text-2xl font-bold text-slate-900 mb-6 border-b border-slate-200 pb-2">{title}</h3>
                {children}
            </section>
        );

        const ExperienceItem = ({ title, subtitle, period, details, video }) => (
            <div className="mb-8 last:mb-0 group">
                <div className="flex flex-col md:flex-row md:justify-between md:items-start mb-2">
                    <div>
                        <h4 className="text-lg font-bold text-slate-900">{title}</h4>
                        <div className="text-blue-600 font-medium">{subtitle}</div>
                    </div>
                    <div className="text-sm text-slate-500 bg-slate-100 px-2 py-1 rounded mt-1 md:mt-0 inline-block w-fit">
                        {period}
                    </div>
                </div>
                
                {video && (
                    <div className="my-4 rounded-lg overflow-hidden bg-slate-100 border border-slate-200">
                       <video controls className="w-full max-h-64 object-cover">
                            <source src={video} type="video/mp4" />
                            Your browser does not support the video tag.
                       </video>
                    </div>
                )}

                {details && (
                    <ul className="space-y-2 mt-3">
                        {details.map((item, idx) => (
                            <li key={idx} className="flex gap-2 text-slate-600 leading-relaxed text-sm">
                                <span className="text-blue-400 mt-1.5">•</span>
                                <span>{item}</span>
                            </li>
                        ))}
                    </ul>
                )}
            </div>
        );

        const ChatInterface = () => (
            <div className="fixed bottom-6 right-6 z-50">
                <button className="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all hover:scale-105 flex items-center gap-2" 
                        onClick={() => alert("AI Chat feature requires a backend server. This is a demo button.")}>
                    <MessageSquare size={24} />
                    <span className="font-medium hidden md:inline">Ask about Yifan</span>
                </button>
            </div>
        );

        // --- 4. 你的 App 代码 (已微调以适配浏览器环境) ---
        
        const App = () => {
            return (
                <div className="min-h-screen bg-white font-sans text-slate-800 flex flex-col lg:flex-row">
                
                {/* Left Sidebar */}
                <Sidebar />
                
                {/* Main Content Area */}
                <main className="flex-1 lg:ml-72 p-0">
                    
                    {/* Mobile-only Header Spacer */}
                    <div className="h-4 bg-white lg:hidden"></div>

                    <div className="max-w-4xl mx-auto px-6 py-12 lg:py-20">
                    
                    {/* Summary / Intro */}
                    <div className="mb-16">
                        <p className="text-xl leading-relaxed text-slate-600 font-light border-l-4 border-blue-500 pl-6">
                            {RESUME_DATA.summary}
                        </p>
                    </div>

                    {/* 1. Publications */}
                    <div className="mb-16">
                        <div className="flex items-center gap-3 mb-6">
                            <div className="p-2 bg-blue-50 rounded-lg text-blue-600">
                                <ScrollText size={24} />
                            </div>
                            <h3 className="text-2xl font-bold text-slate-900">Publications</h3>
                        </div>
                        
                        <div className="pl-4 border-l border-slate-100 ml-5">
                            {RESUME_DATA.publications.map((pub, idx) => (
                            <div key={idx} className="mb-6 last:mb-0 relative">
                                <div className="absolute -left-[21px] top-1.5 w-3 h-3 rounded-full bg-blue-500 border-2 border-white ring-2 ring-blue-100"></div>
                                <h4 className="font-semibold text-slate-900 text-lg leading-snug hover:text-blue-600 transition">{pub.title}</h4>
                                <p className="text-slate-500 mt-1 text-base">{pub.conference}</p>
                                <span className="inline-block mt-2 text-sm text-slate-400 font-mono bg-slate-50 px-2 py-0.5 rounded">
                                {pub.date}
                                </span>
                            </div>
                            ))}
                        </div>
                    </div>

                    {/* 2. Academic Research */}
                    <div className="mb-16">
                        <div className="flex items-center gap-3 mb-8 text-slate-400 border-b border-slate-100 pb-4">
                            <FlaskConical size={20} />
                            <span className="uppercase tracking-widest text-xs font-bold">Academic Research</span>
                        </div>
                        {RESUME_DATA.research.map((proj, idx) => (
                            <ExperienceItem
                                key={idx}
                                title={proj.title}
                                subtitle={proj.role || "Researcher"}
                                period={proj.period}
                                details={proj.details}
                                video={proj.video}
                            />
                        ))}
                    </div>

                    {/* 3. Internships */}
                    <div className="mb-16">
                        <div className="flex items-center gap-3 mb-8 text-slate-400 border-b border-slate-100 pb-4">
                            <Briefcase size={20} />
                            <span className="uppercase tracking-widest text-xs font-bold">Professional Work</span>
                        </div>
                        {RESUME_DATA.experience.map((exp, idx) => (
                            <ExperienceItem
                                key={idx}
                                title={exp.role}
                                subtitle={exp.company}
                                period={exp.period}
                                details={exp.details}
                            />
                        ))}
                    </div>

                    {/* 4. Competitions */}
                    <div className="mb-16">
                        <div className="flex items-center gap-3 mb-8 text-slate-400 border-b border-slate-100 pb-4">
                            <Trophy size={20} />
                            <span className="uppercase tracking-widest text-xs font-bold">Formula Student</span>
                        </div>
                        {RESUME_DATA.competitions.map((comp, idx) => (
                            <ExperienceItem
                                key={idx}
                                title={comp.title}
                                subtitle={comp.company || ""}
                                period={comp.period}
                                details={comp.details}
                            />
                        ))}
                    </div>

                    {/* Footer */}
                    <div className="pt-12 text-left text-slate-300 text-sm mt-12 border-t border-slate-100">
                        &copy; {new Date().getFullYear()} Yifan He.
                    </div>

                    </div>
                </main>

                <ChatInterface />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
